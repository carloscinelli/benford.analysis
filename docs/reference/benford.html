<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Benford Analysis of a dataset — benford • benford.analysis</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Benford Analysis of a dataset — benford" />

<meta property="og:description" content="This function validates a dataset using Benford's Law.
Its main purposes are to find out where the dataset deviates from Benford's Law and 
to identify suspicious data that need further verification.
For a more complete example, see the package help at benford.analysis." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">benford.analysis</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.5</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/carloscinelli/benford.analysis">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Benford Analysis of a dataset</h1>
    <small class="dont-index">Source: <a href='https://github.com/carloscinelli/benford.analysis/blob/master/R/main.functions.R'><code>R/main.functions.R</code></a></small>
    <div class="hidden name"><code>benford.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>This function validates a dataset using Benford's Law.
Its main purposes are to find out where the dataset deviates from Benford's Law and 
to identify suspicious data that need further verification.</p>
<p>For a more complete example, see the package help at <a href='benford.analysis.html'>benford.analysis</a>.</p>
    
    </div>

    <pre class="usage"><span class='fu'>benford</span>(<span class='no'>data</span>, <span class='kw'>number.of.digits</span> <span class='kw'>=</span> <span class='fl'>2</span>, <span class='kw'>sign</span> <span class='kw'>=</span> <span class='st'>"positive"</span>,
  <span class='kw'>discrete</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>round</span> <span class='kw'>=</span> <span class='fl'>3</span>, <span class='kw'>data.name</span> <span class='kw'>=</span> <span class='kw'>NULL</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>data</th>
      <td><p>a numeric vector.</p></td>
    </tr>
    <tr>
      <th>number.of.digits</th>
      <td><p>how many first digits to analyze.</p></td>
    </tr>
    <tr>
      <th>sign</th>
      <td><p>The default value for sign is "positive" and it analyzes only data greater than zero. 
There are also the options "negative" and "both" that will analyze only negative values or both positive and negative values of the data,
respectively. For large datasets with both positive and negative numbers, 
it is usually recommended to perform a separate analysis for each group,
for the incentives to manipulate the numbers are usually different.</p></td>
    </tr>
    <tr>
      <th>discrete</th>
      <td><p>most real data - like population numbers or accounting data - are discrete, so 
the default is TRUE. This parameter sets rounding to the differences of the ordered data to avoid floating point number
errors in the second order distribution, that usually occurs when data is discrete
and the ordered numbers are very close to each other. If your data is continuous
(like a simulated lognormal) you should run with discrete = FALSE.</p></td>
    </tr>
    <tr>
      <th>round</th>
      <td><p>it defines the number of digits that the rounding will use if discrete = TRUE.</p></td>
    </tr>
    <tr>
      <th>data.name</th>
      <td><p>the name of your data to show. If <code>NULL</code> (the default), the name of the passed object will be used.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>An object of class Benford containing the results of the analysis. It is a list of 
eight objects, namely:</p>
<dt>info</dt><dd><p>general information, including <ul>
<li><p>data.name: the name of the data used.</p></li>
<li><p>n: the number of observations used.</p></li>
<li><p>n.second.order: the number of observations used for second order analysis.</p></li>
<li><p>number.of.digits: the number of first digits analyzed.</p></li>
</ul></p></dd>

<dt>data</dt><dd><p>a data frame with: <ul>
<li><p>lines.used: the original lines of the dataset.</p></li>
<li><p>data.used: the data used.</p></li>
<li><p>data.mantissa: the log data's mantissa.</p></li>
<li><p>data.digits: the first digits of the data.</p></li>
</ul></p></dd>

<dt>s.o.data</dt><dd><p>a data frame with: <ul>
<li><p>data.second.order: the differences of the ordered data.</p></li>
<li><p>data.second.order.digits: the first digits of the second order analysis.</p></li>
</ul></p></dd>

<dt>bfd</dt><dd><p>a data frame with: <ul>
<li><p>digits: the groups of digits analyzed.</p></li>
<li><p>data.dist: the distribution of the first digits of the data.</p></li>
<li><p>data.second.order.dist: the distribution of the first digits of the second order analysis.</p></li>
<li><p>benford.dist: the theoretical benford distribution.</p></li>
<li><p>data.second.order.dist.freq: the frequency distribution of the first digits of the second order analysis.</p></li>
<li><p>data.dist.freq: the frequency distribution of the first digits of the data.</p></li>
<li><p>benford.dist.freq: the theoretical benford frequency distribution.</p></li>
<li><p>benford.so.dist.freq: the theoretical benford frequency distribution of the second order analysis.</p></li>
<li><p>data.summation: the summation of the data values grouped by first digits.</p></li>
<li><p>abs.excess.summation: the absolute excess summation of the data values grouped by first digits.</p></li>
<li><p>difference: the difference between the data and benford frequencies.</p></li>
<li><p>squared.diff: the chi-squared difference between data and benford frequencies.</p></li>
<li><p>absolute.diff: the absolute difference between data and benford frequencies.</p></li>
<li><p>z.statistic: the z-statistic difference between data and benford relative frequencies.</p></li>
</ul></p></dd>

<dt>mantissa</dt><dd><p>a data frame with: <ul>
<li><p>mean.mantissa: the mean of the mantissa.</p></li>
<li><p>var.mantissa: the variance of the mantissa.</p></li>
<li><p>ek.mantissa: the excess kurtosis of the mantissa.</p></li>
<li><p>sk.mantissa: the skewness of the mantissa.</p></li>
</ul></p></dd>

<dt>MAD</dt><dd><p>the mean absolute deviation.</p></dd>
<dt>distortion.factor</dt><dd><p>the distortion factor</p></dd> 

<dt>stats</dt><dd><p>list of "htest" class statistics: <ul>
<li><p>chisq: Pearson's Chi-squared test.</p></li>
<li><p>mantissa.arc.test: Mantissa Arc Test.</p></li>
<li><p>ks.test: Kolmogorov-Smirnov Test.</p></li>
</ul></p></dd>

    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'><a href='https://www.rdocumentation.org/packages/utils/topics/data'>data</a></span>(<span class='no'>corporate.payment</span>) <span class='co'>#loads data</span>
<span class='no'>bfd.cp</span> <span class='kw'>&lt;-</span> <span class='fu'>benford</span>(<span class='no'>corporate.payment</span>$<span class='no'>Amount</span>) <span class='co'>#generates benford object</span>
<span class='no'>bfd.cp</span> <span class='co'>#prints</span></div><div class='output co'>#&gt; 
#&gt; Benford object:
#&gt;  
#&gt; Data: corporate.payment$Amount 
#&gt; Number of observations used = 185083 
#&gt; Number of obs. for second order = 65504 
#&gt; First digits analysed = 2
#&gt; 
#&gt; Mantissa: 
#&gt; 
#&gt;    Statistic  Value
#&gt;         Mean  0.496
#&gt;          Var  0.092
#&gt;  Ex.Kurtosis -1.257
#&gt;     Skewness -0.002
#&gt; 
#&gt; 
#&gt; The 5 largest deviations: 
#&gt; 
#&gt;   digits absolute.diff
#&gt; 1     50       5938.25
#&gt; 2     11       3331.98
#&gt; 3     10       2811.92
#&gt; 4     14       1043.68
#&gt; 5     98        889.95
#&gt; 
#&gt; Stats:
#&gt; 
#&gt; 	Pearson's Chi-squared test
#&gt; 
#&gt; data:  corporate.payment$Amount
#&gt; X-squared = 32094, df = 89, p-value &lt; 2.2e-16
#&gt; 
#&gt; 
#&gt; 	Mantissa Arc Test
#&gt; 
#&gt; data:  corporate.payment$Amount
#&gt; L2 = 0.0039958, df = 2, p-value &lt; 2.2e-16
#&gt; 
#&gt; 
#&gt; 	Kolmogorov-Smirnov test
#&gt; 
#&gt; data:  corporate.payment$Amount
#&gt; D = 0.033195, critical value = 0.0031612, alpha = 0.0500000
#&gt; 
#&gt; Mean Absolute Deviation (MAD): 0.002336614
#&gt; MAD Conformity - Nigrini (2012): Nonconformity
#&gt; Distortion Factor: -1.065467
#&gt; 
#&gt; Remember: Real data will never conform perfectly to Benford's Law. You should not focus on p-values!</div><div class='input'><span class='fu'><a href='https://www.rdocumentation.org/packages/graphics/topics/plot'>plot</a></span>(<span class='no'>bfd.cp</span>) <span class='co'>#plots</span></div><div class='img'><img src='benford-1.png' alt='' width='700' height='433' /></div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Carlos Cinelli.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

